<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Floating Bubble Test - AI Page Summarizer</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .feature-section {
            margin: 30px 0;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }
        
        .feature-section h2 {
            color: #495057;
            margin-top: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .instructions {
            background: #e3f2fd;
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            border: 2px solid #2196f3;
        }
        
        .instructions h3 {
            color: #1976d2;
            margin-top: 0;
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .test-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border: 1px solid #e0e0e0;
        }
        
        .test-card h4 {
            color: #667eea;
            margin-top: 0;
        }
        
        .highlight {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
            margin: 15px 0;
        }
        
        .code {
            background: #f1f3f4;
            padding: 3px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        .emoji {
            font-size: 1.2em;
        }
        
        ul, ol {
            padding-left: 20px;
        }
        
        li {
            margin-bottom: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1><span class="emoji">ü´ß</span> Floating Bubble Test Page</h1>
        
        <div class="instructions">
            <h3><span class="emoji">üöÄ</span> Testing the Floating Bubble Feature</h3>
            <p>This page is designed to test the new draggable floating bubble feature of the AI Page Summarizer extension. The floating bubble provides quick access to summarization without needing to right-click.</p>
            
            <div class="highlight">
                <strong>Look for the floating bubble!</strong> It should appear somewhere on this page (default: top-right corner) with a gradient background and "Summarize" text.
            </div>
        </div>

        <div class="feature-section">
            <h2><span class="emoji">‚ú®</span> New Floating Bubble Features</h2>
            <ul>
                <li><strong>Always Accessible:</strong> No need to right-click - just click the floating bubble</li>
                <li><strong>Draggable:</strong> Drag the bubble to any position on the page</li>
                <li><strong>Persistent Position:</strong> The bubble remembers where you moved it</li>
                <li><strong>Configurable:</strong> Enable/disable and set default position in extension settings</li>
                <li><strong>Responsive Design:</strong> Adapts to different screen sizes</li>
                <li><strong>Beautiful Animation:</strong> Smooth hover effects and transitions</li>
            </ul>
        </div>

        <div class="test-grid">
            <div class="test-card">
                <h4><span class="emoji">üéØ</span> Basic Functionality Test</h4>
                <ol>
                    <li>Look for the floating bubble on this page</li>
                    <li>Click the bubble to trigger summarization</li>
                    <li>Verify the popup opens with summary</li>
                    <li>Test the chat functionality</li>
                </ol>
            </div>
            
            <div class="test-card">
                <h4><span class="emoji">üñ±Ô∏è</span> Drag & Drop Test</h4>
                <ol>
                    <li>Click and hold the bubble</li>
                    <li>Drag it to different corners</li>
                    <li>Release to drop in new position</li>
                    <li>Refresh page to test persistence</li>
                </ol>
            </div>
            
            <div class="test-card">
                <h4><span class="emoji">‚öôÔ∏è</span> Settings Test</h4>
                <ol>
                    <li>Open extension settings</li>
                    <li>Toggle "Show floating bubble"</li>
                    <li>Change default position</li>
                    <li>Save and test changes</li>
                </ol>
            </div>
            
            <div class="test-card">
                <h4><span class="emoji">üì±</span> Responsive Test</h4>
                <ol>
                    <li>Resize browser window</li>
                    <li>Test on mobile viewport</li>
                    <li>Verify bubble adapts properly</li>
                    <li>Check touch interactions</li>
                </ol>
            </div>
        </div>

        <div class="feature-section">
            <h2><span class="emoji">üîß</span> Technical Implementation</h2>
            <p>The floating bubble is implemented using:</p>
            <ul>
                <li><strong>Content Script Injection:</strong> Automatically added to all web pages</li>
                <li><strong>CSS-in-JS Styling:</strong> Dynamic styles with neuromorphic design</li>
                <li><strong>Drag API:</strong> Native HTML5 drag and drop with touch support</li>
                <li><strong>Chrome Storage API:</strong> Persistent settings and position memory</li>
                <li><strong>Message Passing:</strong> Communication between content script and background</li>
            </ul>
        </div>

        <div class="feature-section">
            <h2><span class="emoji">üé®</span> Design Features</h2>
            <ul>
                <li><strong>Gradient Background:</strong> Beautiful purple-blue gradient matching extension theme</li>
                <li><strong>Glassmorphism Effect:</strong> Backdrop blur and transparency</li>
                <li><strong>Smooth Animations:</strong> Scale and shadow transitions on hover</li>
                <li><strong>High Z-Index:</strong> Always appears above page content</li>
                <li><strong>Tooltip:</strong> Helpful text appears on hover</li>
                <li><strong>Close Button:</strong> Easy way to hide the bubble</li>
            </ul>
        </div>

        <div class="instructions">
            <h3><span class="emoji">üß™</span> Test Scenarios</h3>
            <div class="test-grid">
                <div>
                    <h4>Scenario 1: First Time User</h4>
                    <ol>
                        <li>Install extension</li>
                        <li>Visit this page</li>
                        <li>Notice floating bubble appears</li>
                        <li>Click bubble to summarize</li>
                        <li>Try chat functionality</li>
                    </ol>
                </div>
                
                <div>
                    <h4>Scenario 2: Power User</h4>
                    <ol>
                        <li>Drag bubble to preferred position</li>
                        <li>Use keyboard shortcuts if available</li>
                        <li>Test on multiple tabs</li>
                        <li>Customize settings</li>
                        <li>Verify persistence across sessions</li>
                    </ol>
                </div>
            </div>
        </div>

        <div class="feature-section">
            <h2><span class="emoji">üìä</span> Expected Behavior</h2>
            <div class="highlight">
                <strong>What should happen:</strong>
                <ul>
                    <li>Bubble appears 1 second after page load</li>
                    <li>Smooth fade-in animation</li>
                    <li>Hover effects work properly</li>
                    <li>Drag functionality is smooth</li>
                    <li>Click triggers summarization</li>
                    <li>Close button hides bubble</li>
                    <li>Settings control visibility</li>
                </ul>
            </div>
        </div>

        <div class="feature-section">
            <h2><span class="emoji">üêõ</span> Troubleshooting</h2>
            <p>If the bubble doesn't appear:</p>
            <ol>
                <li>Check if extension is enabled</li>
                <li>Verify content script is loaded (F12 ‚Üí Console)</li>
                <li>Check extension settings for bubble visibility</li>
                <li>Try refreshing the page</li>
                <li>Look for JavaScript errors in console</li>
            </ol>
        </div>

        <div class="instructions">
            <h3><span class="emoji">üí°</span> Pro Tips</h3>
            <ul>
                <li>The bubble works on any webpage, not just test pages</li>
                <li>You can still use the right-click context menu as before</li>
                <li>Drag the bubble to your preferred corner for easy access</li>
                <li>The bubble position is remembered across page reloads</li>
                <li>Use extension settings to customize the default position</li>
                <li>The bubble automatically hides on very small screens</li>
            </ul>
        </div>

        <article>
            <h2><span class="emoji">üìÑ</span> Sample Content for Testing</h2>
            <p>This section contains sample content that the AI should be able to summarize and discuss. The floating bubble provides an alternative way to access the summarization feature without using the context menu.</p>
            
            <h3>About the Floating Bubble Feature</h3>
            <p>The floating bubble represents a significant enhancement to the AI Page Summarizer extension. It provides users with immediate, visible access to the summarization functionality without requiring them to remember keyboard shortcuts or navigate context menus.</p>
            
            <p>The implementation uses modern web technologies including CSS transforms for smooth animations, the HTML5 drag and drop API for repositioning, and Chrome's storage API for persistence. The design follows the extension's neuromorphic aesthetic with gradients, shadows, and smooth transitions.</p>
            
            <h3>User Experience Benefits</h3>
            <p>From a user experience perspective, the floating bubble solves several common usability issues. Many users are not aware of context menu options, and the floating bubble makes the feature discoverable. The ability to drag and reposition the bubble allows users to customize their experience and avoid interference with page content.</p>
        </article>
    </div>

    <script>
        // Add some interactivity to the test page
        console.log('Floating bubble test page loaded');
        console.log('Page contains', document.body.innerText.length, 'characters of content');
        
        // Function to highlight the bubble when found
        function highlightBubble() {
            const bubble = document.getElementById('ai-summarizer-bubble');
            if (bubble) {
                bubble.style.boxShadow = '0 0 20px #ff6b6b, 0 8px 32px rgba(102, 126, 234, 0.3)';
                setTimeout(() => {
                    bubble.style.boxShadow = '0 8px 32px rgba(102, 126, 234, 0.3)';
                }, 2000);
                return true;
            }
            return false;
        }
        
        // Check for bubble every second for 10 seconds
        let checkCount = 0;
        const checkInterval = setInterval(() => {
            checkCount++;
            if (highlightBubble() || checkCount >= 10) {
                clearInterval(checkInterval);
                if (checkCount >= 10) {
                    console.log('Floating bubble not found after 10 seconds');
                }
            }
        }, 1000);
        
        // Make function available globally for manual testing
        window.highlightBubble = highlightBubble;
    </script>
</body>
</html>
